!function(t,r){"object"==typeof exports&&"object"==typeof module?module.exports=r():"function"==typeof define&&define.amd?define([],r):"object"==typeof exports?exports.Duck=r():t.Duck=r()}(this,function(){return function(t){function r(e){if(n[e])return n[e].exports;var o=n[e]={i:e,l:!1,exports:{}};return t[e].call(o.exports,o,o.exports,r),o.l=!0,o.exports}var n={};return r.m=t,r.c=n,r.d=function(t,n,e){r.o(t,n)||Object.defineProperty(t,n,{configurable:!1,enumerable:!0,get:e})},r.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return r.d(n,"a",n),n},r.o=function(t,r){return Object.prototype.hasOwnProperty.call(t,r)},r.p="",r(r.s=0)}([function(t,r,n){"use strict";function e(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}function o(t){if(Array.isArray(t)){for(var r=0,n=Array(t.length);r<t.length;r++)n[r]=t[r];return n}return Array.from(t)}function i(t,r,n){return t+"/"+r+"/"+n}function c(t,r){1==arguments.length&&(r=t[1],t=t[0]);var n={},e=0;for(e;e<t.length;e+=1)n[t[e]]=r[e];return n}function u(t,r,n){return c(n,n.map(function(n){return i(t,r,n)}))}function a(t){return null!==t&&"object"===(void 0===t?"undefined":S(t))}function s(t){return null!==t&&"function"==typeof t}function f(t){return void 0===t||void 0===t}function l(t){return a(t)&&(t.constructor===Object||void 0===t.constructor)}function y(t){for(var r=arguments.length,n=Array(r>1?r-1:0),e=1;e<r;e++)n[e-1]=arguments[e];if(!n.length)return t;var i=n.shift();if(Array.isArray(t))if(Array.isArray(i)){var c;(c=t).push.apply(c,o(i))}else t.push(i);else if(l(t)){if(!l(i))throw new Error("Cannot merge object with non-object");var u=!0,a=!1,s=void 0;try{for(var f,p=Object.keys(i)[Symbol.iterator]();!(u=(f=p.next()).done);u=!0){var h=f.value;t[h]?y(t[h],i[h]):t[h]=i[h]}}catch(t){a=!0,s=t}finally{try{!u&&p.return&&p.return()}finally{if(a)throw s}}}else t=i;return y.apply(void 0,[t].concat(n))}function p(t){return j({},t,{consts:t.consts||{},creators:t.creators||function(){return{}},selectors:t.selectors||{},types:t.types||[]})}function h(t,r){return t instanceof Function?t(r):t}function v(t,r){var n=void 0;if(r.storePath){var e=[].concat(r.storePath.split("."),r.store);n=e.reduce(function(t,r){if(!t[r])throw Error("state does not contain reducer at storePath "+e.join("."));return t[r]},t)}else n=t[r.store];return n}function d(t){var r=b(t);return function(t){var n={};return Object.keys(r).forEach(function(e){var o=r[e];n[e]=function(r){return o(v(r,t),r)}}),n}}function b(t){var r={};return Object.keys(t).forEach(function(n){var e=t[n];r[n]=e instanceof x?function(){return(r[n]=e.extractFunction(r)).apply(void 0,arguments)}:e}),r}Object.defineProperty(r,"__esModule",{value:!0}),r.constructLocalized=d,n.d(r,"constructLocalised",function(){return d}),n.d(r,"Selector",function(){return x});var m=function(){function t(t,r){for(var n=0;n<r.length;n++){var e=r[n];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),Object.defineProperty(t,e.key,e)}}return function(r,n,e){return n&&t(r.prototype,n),e&&t(r,e),r}}(),j=Object.assign||function(t){for(var r=1;r<arguments.length;r++){var n=arguments[r];for(var e in n)Object.prototype.hasOwnProperty.call(n,e)&&(t[e]=n[e])}return t},S="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},g=function(){function t(r){var n=this;e(this,t);var o=r=p(r),i=o.namespace,a=o.store,f=o.storePath,l=o.types,y=o.consts,v=o.initialState,d=o.creators,m=o.selectors;this.options=r,Object.keys(y).forEach(function(t){n[t]=c(y[t],y[t])}),this.store=a,this.storePath=f,this.types=u(i,a,l),this.initialState=s(v)?v(this):v,this.reducer=this.reducer.bind(this),this.selectors=b(h(m,this)),this.creators=d(this)}return m(t,[{key:"reducer",value:function(t,r){return f(t)&&(t=this.initialState),this.options.reducer(t,r,this)}},{key:"extend",value:function(r){var n=this;s(r)&&(r=r(this)),r=p(r);var e=this.options,i=void 0;return i=s(r.initialState)?function(t){return r.initialState(t,n.initialState)}:f(r.initialState)?e.initialState:r.initialState,new t(j({},e,r,{initialState:i,consts:y({},e.consts,r.consts),creators:function(t){var n=e.creators(t);return j({},n,r.creators(t,n))},selectors:function(t){return j({},h(e.selectors,t),h(r.selectors,t))},types:[].concat(o(e.types),o(r.types)),reducer:function(t,n,o){return t=e.reducer(t,n,o),f(r.reducer)?t:r.reducer(t,n,o)}}))}}]),t}();r.default=g;var x=function(){function t(r){e(this,t),this.func=r}return m(t,[{key:"extractFunction",value:function(t){return this.func(t)}}]),t}();g.Selector=x}])});
//# sourceMappingURL=extensible-duck.min.js.map
