{"version":3,"sources":["extensible-duck.min.js"],"names":["root","factory","exports","module","define","amd","this","modules","installedModules","__webpack_require__","moduleId","i","l","call","m","c","d","name","getter","o","Object","defineProperty","configurable","enumerable","get","n","__esModule","object","property","prototype","hasOwnProperty","p","s","__webpack_exports__","value","constructLocalized","Selector","_createClass","defineProperties","target","props","length","descriptor","writable","key","Constructor","protoProps","staticProps","_extends","assign","arguments","source","_typeof","Symbol","iterator","obj","constructor","_classCallCheck","instance","TypeError","_toConsumableArray","arr","Array","isArray","arr2","from","zipObject","keys","values","result","isFunction","func","isUndefined","undefined","isPlainObject","mergeDeep","_len","sources","_key","_target","shift","push","apply","Error","_iteratorNormalCompletion","_didIteratorError","_iteratorError","_step","_iterator","next","done","err","return","concat","assignDefaults","options","consts","sagas","takes","creators","selectors","types","injectDuck","input","duck","Function","derivedSelectors","deriveSelectors","localizedSelectors","forEach","selector","globalState","localizedState","storePath","segments","split","store","reduce","acc","segment","join","getLocalizedState","composedSelectors","extractFunction","Duck","_this","namespace","_options","initialState","map","type","reducer","bind","saga","state","action","_this2","parent","parentTakes","parentCreators"],"mappings":"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","file":"extensible-duck.min.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"Duck\"] = factory();\n\telse\n\t\troot[\"Duck\"] = factory();\n})(this, function() {\nreturn /******/ (function(modules) { // webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n/******/\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId]) {\n/******/ \t\t\treturn installedModules[moduleId].exports;\n/******/ \t\t}\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\ti: moduleId,\n/******/ \t\t\tl: false,\n/******/ \t\t\texports: {}\n/******/ \t\t};\n/******/\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n/******/\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.l = true;\n/******/\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/\n/******/\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n/******/\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n/******/\n/******/ \t// define getter function for harmony exports\n/******/ \t__webpack_require__.d = function(exports, name, getter) {\n/******/ \t\tif(!__webpack_require__.o(exports, name)) {\n/******/ \t\t\tObject.defineProperty(exports, name, {\n/******/ \t\t\t\tconfigurable: false,\n/******/ \t\t\t\tenumerable: true,\n/******/ \t\t\t\tget: getter\n/******/ \t\t\t});\n/******/ \t\t}\n/******/ \t};\n/******/\n/******/ \t// getDefaultExport function for compatibility with non-harmony modules\n/******/ \t__webpack_require__.n = function(module) {\n/******/ \t\tvar getter = module && module.__esModule ?\n/******/ \t\t\tfunction getDefault() { return module['default']; } :\n/******/ \t\t\tfunction getModuleExports() { return module; };\n/******/ \t\t__webpack_require__.d(getter, 'a', getter);\n/******/ \t\treturn getter;\n/******/ \t};\n/******/\n/******/ \t// Object.prototype.hasOwnProperty.call\n/******/ \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n/******/\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = \"\";\n/******/\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(__webpack_require__.s = 0);\n/******/ })\n/************************************************************************/\n/******/ ([\n/* 0 */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n/* harmony export (immutable) */ __webpack_exports__[\"constructLocalized\"] = constructLocalized;\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"constructLocalised\", function() { return constructLocalized; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"Selector\", function() { return Selector; });\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _toConsumableArray(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } else { return Array.from(arr); } }\n\nfunction typeValue(namespace, store, type) {\n  return namespace + '/' + store + '/' + type;\n}\n\nfunction zipObject(keys, values) {\n  if (arguments.length == 1) {\n    values = keys[1];\n    keys = keys[0];\n  }\n\n  var result = {};\n  var i = 0;\n\n  for (i; i < keys.length; i += 1) {\n    result[keys[i]] = values[i];\n  }\n\n  return result;\n}\n\nfunction buildTypes(namespace, store, types) {\n  return zipObject(types, types.map(function (type) {\n    return typeValue(namespace, store, type);\n  }));\n}\n\nfunction isObject(obj) {\n  return obj !== null && (typeof obj === 'undefined' ? 'undefined' : _typeof(obj)) === 'object';\n}\n\nfunction isFunction(func) {\n  return func !== null && typeof func === 'function';\n}\n\nfunction isUndefined(value) {\n  return typeof value === 'undefined' || value === undefined;\n}\n\nfunction isPlainObject(obj) {\n  return isObject(obj) && (obj.constructor === Object || // obj = {}\n  obj.constructor === undefined) // obj = Object.create(null)\n  ;\n}\n\nfunction mergeDeep(target) {\n  for (var _len = arguments.length, sources = Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n    sources[_key - 1] = arguments[_key];\n  }\n\n  if (!sources.length) return target;\n  var source = sources.shift();\n\n  if (Array.isArray(target)) {\n    if (Array.isArray(source)) {\n      var _target;\n\n      (_target = target).push.apply(_target, _toConsumableArray(source));\n    } else {\n      target.push(source);\n    }\n  } else if (isPlainObject(target)) {\n    if (isPlainObject(source)) {\n      var _iteratorNormalCompletion = true;\n      var _didIteratorError = false;\n      var _iteratorError = undefined;\n\n      try {\n        for (var _iterator = Object.keys(source)[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n          var key = _step.value;\n\n          if (!target[key]) {\n            target[key] = source[key];\n          } else {\n            mergeDeep(target[key], source[key]);\n          }\n        }\n      } catch (err) {\n        _didIteratorError = true;\n        _iteratorError = err;\n      } finally {\n        try {\n          if (!_iteratorNormalCompletion && _iterator.return) {\n            _iterator.return();\n          }\n        } finally {\n          if (_didIteratorError) {\n            throw _iteratorError;\n          }\n        }\n      }\n    } else {\n      throw new Error('Cannot merge object with non-object');\n    }\n  } else {\n    target = source;\n  }\n\n  return mergeDeep.apply(undefined, [target].concat(sources));\n}\n\nfunction assignDefaults(options) {\n  return _extends({}, options, {\n    consts: options.consts || {},\n    sagas: options.sagas || {},\n    takes: options.takes || function () {\n      return [];\n    },\n    creators: options.creators || function () {\n      return {};\n    },\n    selectors: options.selectors || {},\n    types: options.types || []\n  });\n}\n\nfunction injectDuck(input, duck) {\n  if (input instanceof Function) {\n    return input(duck);\n  } else {\n    return input;\n  }\n}\n\nfunction getLocalizedState(globalState, duck) {\n  var localizedState = void 0;\n\n  if (duck.storePath) {\n    var segments = [].concat(duck.storePath.split('.'), duck.store);\n    localizedState = segments.reduce(function getSegment(acc, segment) {\n      if (!acc[segment]) {\n        throw Error('state does not contain reducer at storePath ' + segments.join('.'));\n      }\n      return acc[segment];\n    }, globalState);\n  } else {\n    localizedState = globalState[duck.store];\n  }\n\n  return localizedState;\n}\n\nfunction constructLocalized(selectors) {\n  var derivedSelectors = deriveSelectors(selectors);\n  return function (duck) {\n    var localizedSelectors = {};\n    Object.keys(derivedSelectors).forEach(function (key) {\n      var selector = derivedSelectors[key];\n      localizedSelectors[key] = function (globalState) {\n        return selector(getLocalizedState(globalState, duck), globalState);\n      };\n    });\n    return localizedSelectors;\n  };\n}\n\n// An alias for those who do not use the above spelling.\n\n\n/**\n * Helper utility to assist in composing the selectors.\n * Previously defined selectors can be used to derive future selectors.\n *\n * @param {object} selectors\n * @returns\n */\nfunction deriveSelectors(selectors) {\n  var composedSelectors = {};\n  Object.keys(selectors).forEach(function (key) {\n    var selector = selectors[key];\n    if (selector instanceof Selector) {\n      composedSelectors[key] = function () {\n        return (composedSelectors[key] = selector.extractFunction(composedSelectors)).apply(undefined, arguments);\n      };\n    } else {\n      composedSelectors[key] = selector;\n    }\n  });\n  return composedSelectors;\n}\n\nvar Duck = function () {\n  function Duck(options) {\n    var _this = this;\n\n    _classCallCheck(this, Duck);\n\n    options = assignDefaults(options);\n    var _options = options,\n        namespace = _options.namespace,\n        store = _options.store,\n        storePath = _options.storePath,\n        types = _options.types,\n        consts = _options.consts,\n        initialState = _options.initialState,\n        creators = _options.creators,\n        selectors = _options.selectors,\n        sagas = _options.sagas,\n        takes = _options.takes;\n\n    this.options = options;\n    Object.keys(consts).forEach(function (name) {\n      _this[name] = zipObject(consts[name], consts[name]);\n    });\n\n    this.store = store;\n    this.storePath = storePath;\n    this.types = buildTypes(namespace, store, types);\n    this.initialState = isFunction(initialState) ? initialState(this) : initialState;\n    this.reducer = this.reducer.bind(this);\n    this.selectors = deriveSelectors(injectDuck(selectors, this));\n    this.creators = creators(this);\n    this.sagas = {};\n    Object.keys(sagas).forEach(function (saga) {\n      _this.sagas[saga] = sagas[saga](_this);\n    });\n    this.takes = takes(this);\n  }\n\n  _createClass(Duck, [{\n    key: 'reducer',\n    value: function reducer(state, action) {\n      if (isUndefined(state)) {\n        state = this.initialState;\n      }\n      return this.options.reducer(state, action, this);\n    }\n  }, {\n    key: 'extend',\n    value: function extend(options) {\n      var _this2 = this;\n\n      if (isFunction(options)) {\n        options = options(this);\n      }\n      options = assignDefaults(options);\n      var parent = this.options;\n      var initialState = void 0;\n      if (isFunction(options.initialState)) {\n        initialState = function initialState(duck) {\n          return options.initialState(duck, _this2.initialState);\n        };\n      } else if (isUndefined(options.initialState)) {\n        initialState = parent.initialState;\n      } else {\n        initialState = options.initialState;\n      }\n      return new Duck(_extends({}, parent, options, {\n        initialState: initialState,\n        consts: mergeDeep({}, parent.consts, options.consts),\n        sagas: mergeDeep({}, parent.sagas, options.sagas),\n        takes: function takes(duck) {\n          var parentTakes = parent.takes(duck);\n          return [].concat(_toConsumableArray(parentTakes), _toConsumableArray(options.takes(duck, parentTakes)));\n        },\n        creators: function creators(duck) {\n          var parentCreators = parent.creators(duck);\n          return _extends({}, parentCreators, options.creators(duck, parentCreators));\n        },\n        selectors: function selectors(duck) {\n          return _extends({}, injectDuck(parent.selectors, duck), injectDuck(options.selectors, duck));\n        },\n        types: [].concat(_toConsumableArray(parent.types), _toConsumableArray(options.types)),\n        reducer: function reducer(state, action, duck) {\n          state = parent.reducer(state, action, duck);\n          if (isUndefined(options.reducer)) {\n            return state;\n          } else {\n            return options.reducer(state, action, duck);\n          }\n        }\n      }));\n    }\n  }]);\n\n  return Duck;\n}();\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (Duck);\n\n\nvar Selector = function () {\n  function Selector(func) {\n    _classCallCheck(this, Selector);\n\n    this.func = func;\n  }\n\n  _createClass(Selector, [{\n    key: 'extractFunction',\n    value: function extractFunction(selectors) {\n      return this.func(selectors);\n    }\n  }]);\n\n  return Selector;\n}();\n\nDuck.Selector = Selector;\n\n/***/ })\n/******/ ]);\n});\n//# sourceMappingURL=extensible-duck.js.map"]}